(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{260:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(84),__webpack_require__(5),__webpack_require__(22),__webpack_require__(0),__webpack_require__(128),__webpack_require__(3),__webpack_require__(4),__webpack_require__(13);var react=__webpack_require__(1),react_default=__webpack_require__.n(react),dist=__webpack_require__(16),Recompose_cjs=__webpack_require__(21),lib=__webpack_require__(78),lib_default=__webpack_require__.n(lib);__webpack_require__(19),__webpack_require__(20),__webpack_require__(135),__webpack_require__(136);function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}lib.jss.createStyleSheet({"@keyframes cassette-tape-wheel-rotate":{from:{transform:"translateX(var(--wheel-radius)) translateY(var(--wheel-radius)) rotate(60deg)"},to:{transform:"translateX(var(--wheel-radius)) translateY(var(--wheel-radius)) rotate(0deg)"}}}).attach();var maxVelocity=2,wheel_Wheel=function(_React$Component){function Wheel(_p){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Wheel),self=this,call=_getPrototypeOf(Wheel).call(this,_p),_this=!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call,_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"animationStart",function(velocity){var _assertThisInitialize=_assertThisInitialized(_assertThisInitialized(_this)),rotation=_assertThisInitialize.ref.current,animation=_assertThisInitialize.aniRef.current;_assertThisInitialize.props;_this.animating?animation.style.animationDuration="".concat(3/velocity/6,"s"):(_this.animating=!0,rotation.style.opacity=0,animation.style.display="block",animation.style.animation="cassette-tape-wheel-rotate infinite ".concat(3/velocity/6,"s linear"))}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"animationStop",function(){if(_this.animating){_this.animating=!1;var _assertThisInitialize2=_assertThisInitialized(_assertThisInitialized(_this)),rotation=_assertThisInitialize2.ref.current,animation=_assertThisInitialize2.aniRef.current;_assertThisInitialize2.props;rotation.style.opacity=1,animation.style.display="none",animation.style.animation="none"}}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"shouldComponentUpdate",function(p){return 0===p.velocity?(_this.animationStop(),_this.keepRotating=!1):p.velocity>maxVelocity?_this.animationStart(p.velocity):(_this.animationStop(),!_this.keepRotating&&(_this.keepRotating=!0,_this.rotate(p.velocity))),!1}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"rotate",function(vel){var velocity=vel>maxVelocity?maxVelocity:vel,_assertThisInitialize3=_assertThisInitialized(_assertThisInitialized(_this)),elem=_assertThisInitialize3.ref.current,p=_assertThisInitialize3.props;elem.style.transition="none",elem.style.transform="translateX(".concat(-p.radius,"px) translateY(").concat(-p.radius,"px) rotate(0deg)"),setTimeout(function(){elem.style.transition="transform ".concat(velocity&&3/velocity/6,"s linear"),elem.style.transform=velocity?"translate3d(".concat(-p.radius,"px, ").concat(-p.radius,"px, 0) rotate(-60deg)"):"translate3d(".concat(-p.radius,"px, ").concat(-p.radius,"px, 0) rotate(0deg)")})}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"transitionEnd",function(){var _assertThisInitialize4=_assertThisInitialized(_assertThisInitialized(_this)),p=(_assertThisInitialize4.ref.current,_assertThisInitialize4.props);_this.keepRotating&&_this.rotate(p.velocity)}),_this.ref=react_default.a.createRef(),_this.aniRef=react_default.a.createRef(),_this.keepRotating=!1,_this.animating=!1,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Wheel,react_default.a.Component),Constructor=Wheel,(protoProps=[{key:"render",value:function(){var _this$props=this.props,classes=_this$props.classes,rotatingClassName=(_this$props.velocity,this.animating,classes.wheel),animatingClassName="".concat(classes.wheel," ").concat(classes.animating);return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:rotatingClassName,ref:this.ref,onTransitionEnd:this.transitionEnd}),react_default.a.createElement("div",{className:animatingClassName,ref:this.aniRef,style:_defineProperty({},"--wheel-radius","-".concat(this.props.radius,"px")),onTransitionEnd:this.transitionEnd}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Wheel;var Constructor,protoProps,staticProps}(),types={required:{velocity:0,backgroundImage:""},optional:{top:0,left:0,radius:29}};wheel_Wheel.propTypes=_objectSpread({},Object(dist.propTypes)(types)),wheel_Wheel.defaultProps=_objectSpread({},Object(dist.defaultProps)(types));var wheel=lib_default()({wheel:{position:"absolute",backgroundSize:"cover",backgroundImage:function(p){return p.backgroundImage},width:function(p){return 2*p.radius},height:function(p){return 2*p.radius},transform:function(p){return"translate3d(".concat(-p.radius,"px, ").concat(-p.radius,"px, 0) rotate(0deg)")},top:function(p){return p.top},left:function(p){return p.left}},animating:{display:"none"}})(wheel_Wheel);function axis_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){axis_defineProperty(target,key,source[key])})}return target}function axis_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}wheel_Wheel.__docgenInfo={description:"",methods:[{name:"animationStart",docblock:null,modifiers:[],params:[{name:"velocity",type:null}],returns:null},{name:"animationStop",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldComponentUpdate",docblock:null,modifiers:[],params:[{name:"p",type:null}],returns:null},{name:"rotate",docblock:null,modifiers:[],params:[{name:"vel",type:null}],returns:null},{name:"transitionEnd",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"Wheel",composes:["proptypes-helper"]},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/wheel.js"]={name:"Wheel",docgenInfo:wheel_Wheel.__docgenInfo,path:"src/wheel.js"});var Axis=Object(Recompose_cjs.compose)(Object(Recompose_cjs.onlyUpdateForKeys)(["radius","velocity"]),Object(Recompose_cjs.withProps)(function(props){return{backgroundImage:"url(/wheel.svg)",radius:1.55*props.radius*2}}))(wheel),axis_types={required:{velocity:0},optional:{top:0,left:0,radius:29}};Axis.propTypes=axis_objectSpread({},Object(dist.propTypes)(axis_types)),Axis.defaultProps=axis_objectSpread({},Object(dist.defaultProps)(axis_types));var axis=Axis;function reel_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){reel_defineProperty(target,key,source[key])})}return target}function reel_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function round(val){var digit=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(1>digit||8<digit)return 0;var shift=Math.pow(10,digit);return Math.round(val*shift)/shift}var Reel=function(props){var classes=props.classes,thickness=props.thickness,length=props.length,velocity=props.velocity,_props$top=props.top,top=void 0===_props$top?100:_props$top,_props$left=props.left,left=void 0===_props$left?100:_props$left,axisRadius=props.axisRadius,radius=Math.sqrt(1e3*length*thickness/Math.PI+axisRadius*axisRadius),radiusPx=round(2.4*(radius=radius<axisRadius?axisRadius:radius)),axisRadiusPx=round(2.4*axisRadius),axisVelocity=round(velocity*axisRadius/radius,2);return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:classes.reelTape,style:{width:"".concat(2*radiusPx,"px"),height:"".concat(2*radiusPx,"px"),transform:"translate3d(0, 0, 0) translateX(".concat(-radiusPx,"px) translateY(").concat(-radiusPx,"px)")}}),react_default.a.createElement("div",{className:classes.reelCore,style:{width:"".concat(2*axisRadiusPx-1,"px"),height:"".concat(2*axisRadiusPx-1,"px"),transform:"translate3d(0, 0, 0) translateX(".concat(.5-axisRadiusPx,"px) translateY(").concat(.5-axisRadiusPx,"px)")}}),react_default.a.createElement(axis,{radius:axisRadius,velocity:axisVelocity,top:top,left:left}))},reel_types={required:{length:10,velocity:0},optional:{thickness:.0038,axisRadius:29}};Reel.propTypes=reel_objectSpread({},Object(dist.propTypes)(reel_types)),Reel.defaultProps=reel_objectSpread({},Object(dist.defaultProps)(reel_types));var reel=lib_default()({reelTape:{position:"absolute",top:function(p){return p.top},left:function(p){return p.left},borderRadius:1e3,backgroundColor:"black"},reelCore:{position:"absolute",top:function(p){return p.top},left:function(p){return p.left},borderRadius:"1000px",backgroundColor:"white"}})(Reel);function pulley_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){pulley_defineProperty(target,key,source[key])})}return target}function pulley_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Reel.__docgenInfo={description:"",methods:[],displayName:"Reel",composes:["proptypes-helper"]},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/reel.js"]={name:"Reel",docgenInfo:Reel.__docgenInfo,path:"src/reel.js"});var Pulley=Object(Recompose_cjs.compose)(Object(Recompose_cjs.onlyUpdateForKeys)(["radius","velocity"]),Object(Recompose_cjs.withProps)(function(){return{backgroundImage:"url(/pulley.svg)"}}))(wheel),pulley_types={required:{velocity:0},optional:{top:0,left:0,style:{},radius:29}};Pulley.propTypes=pulley_objectSpread({},Object(dist.propTypes)(pulley_types)),Pulley.defaultProps=pulley_objectSpread({},Object(dist.defaultProps)(pulley_types));var pulley=Pulley;function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function case_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){case_defineProperty(target,key,source[key])})}return target}function case_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var positions_leftReel={top:179,left:180},positions_rightReel={top:179,left:431},positions_leftPulley={top:360,left:34},positions_rightPulley={top:360,left:575},Case=function(props){var length=props.length,pos=props.innerPos,velocity=props.velocity,style=props.style,rests=_objectWithoutProperties(props,["length","innerPos","velocity","style"]);return react_default.a.createElement("div",_extends({style:case_objectSpread({position:"relative",width:"600px",height:"400px",margin:"auto",backgroundImage:"url(/Cassette.svg)"},style)},rests),react_default.a.createElement(reel,_extends({length:length-pos,velocity:velocity},positions_leftReel)),react_default.a.createElement(reel,_extends({length:pos,velocity:velocity},positions_rightReel)),react_default.a.createElement(pulley,_extends({radius:15,velocity:4*velocity},positions_leftPulley)),react_default.a.createElement(pulley,_extends({radius:15,velocity:4*velocity},positions_rightPulley)))},case_types={required:{},optional:{length:1800,pos:0,sideindex:0,velocity:0,style:{}}};Case.propTypes=case_objectSpread({},Object(dist.propTypes)(case_types)),Case.defaultProps=case_objectSpread({},Object(dist.defaultProps)(case_types));var src_case=Object(Recompose_cjs.compose)(Object(Recompose_cjs.withProps)(function(p){return{innerPos:(val=p.pos,min=0,max=p.length,val<min?min:val>max?max:val)};var val,min,max}),Object(Recompose_cjs.onlyUpdateForKeys)(["innerPos","sideIndex","velocity"]))(Case);Case.__docgenInfo={description:"",methods:[],displayName:"Case",composes:["proptypes-helper"]},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/case.js"]={name:"Case",docgenInfo:Case.__docgenInfo,path:"src/case.js"});__webpack_exports__.a=src_case},261:function(module,exports,__webpack_require__){__webpack_require__(262),__webpack_require__(335),module.exports=__webpack_require__(336)},336:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(4),__webpack_require__(3),__webpack_require__(5);var _storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(114),req=__webpack_require__(437);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.configure)(function(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(179)(module))},437:function(module,exports,__webpack_require__){var map={"./index.stories.js":438};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){var id=map[req];if(!(id+1)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return id}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=437},438:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(114),recompose__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(439),__webpack_require__(549),__webpack_require__(21)),_src___WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(260),WrappedCassette=Object(recompose__WEBPACK_IMPORTED_MODULE_4__.withState)("pos","setPos",0)(function(_ref){var pos=_ref.pos,setPos=_ref.setPos;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_5__.a,{pos:pos,length:1800,velocity:pos?1:0,onClick:function(){return console.log(pos)||setPos(pos+100)}})});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Cassete tapes",module).addDecorator(function(storyFn){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,storyFn())}).add("Cassette",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrappedCassette,null)})}.call(this,__webpack_require__(179)(module))}},[[261,1,2]]]);
//# sourceMappingURL=main.481d6734d92a541636b1.bundle.js.map